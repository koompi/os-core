# Description: Sources for time zone and daylight saving time data
# URL: https://koompi.org        
# Maintainer:  HangsiaHONG, hangsia@koompi.org
# Organization:  KOOMPI, koompi.com
# Depends on:

name=tzdata
version=2020d
release=1
source=(https://www.iana.org/time-zones/repository/releases/${name}${version}.tar.gz)

build() {
	ZONEINFO=$PKG/usr/share/zoneinfo
        mkdir -pv $ZONEINFO/{posix,right}

        for tz in etcetera southamerica northamerica europe africa antarctica  \
                  asia australasia backward pacificnew systemv; do
            zic -L /dev/null   -d $ZONEINFO       -y "sh yearistype.sh" ${tz}
            zic -L /dev/null   -d $ZONEINFO/posix -y "sh yearistype.sh" ${tz}
            zic -L leapseconds -d $ZONEINFO/right -y "sh yearistype.sh" ${tz}
        done

        cp -v zone.tab zone1970.tab iso3166.tab $ZONEINFO
        zic -d $ZONEINFO -p Asia/Phnom_Penh
}
